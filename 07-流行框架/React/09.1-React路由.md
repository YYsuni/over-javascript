# 09.1-React 路由

## 一 前端路由

### 1.1 前端路由概念

在后端中，路由的概念是：一个路由对应着一个接口，根据路由的不同，返回不同的响应数据。

前端路由的概念是依据 url 的不同，分配不同的界面组件。

React 中实现前端路由的库是：react-router-dom，通过管理 url，实现组件与 url 的对应，通过 url 进行组件之间的切换。

其本质是：用户事件与事件处理函数之间的对应关系！

贴士：react-router 是 react 中路由的核心 api，但是没有提供 dom 操作进行路由跳转的 api，react-router-dom 在使用上更加便利。

### 1.2 前端路由原理

无论是哈希模式还是历史模式都可以不制造页面刷新。

哈希路由原理：

```js
location.hash = 'about' // 地址为： /#/about
location.hash = 'news' // 地址为： /#/news
```

历史路由原理(栈结构)：

```js
location.pushState({}, '', 'about') // 地址为： /about
location.pushState({}, '', 'news') // 地址为： /news
```

## 二 react-router-dom 基础使用

安装 react-router-dom 库：

```txt
npm i react-router-dom -S
```

使用示例：

```js
import React from 'react'
import ReactDOM from 'react-dom'
import { Link, BrowserRouter, Route } from 'react-router-dom'
import Home from './component/Home'
import About from './component/About'

export default class App extends Component {
  render() {
    return (
      <div>
        <BrowserRouter>
          <Link to="/home">home</Link>
          <Link to="/about">about</Link>
          <Route path="/home" component={Home} />
          <Route path="/about" component={About} />
        </BrowserRouter>
      </div>
    )
  }
}
```

## 三 注意事项

react-router-dom 三个常见名词：

- BrowserRouter：路由的根容器，所有路由相关的内容都要包裹在该标签中，除了 BrowserRouter 还有 HashRouter。
- Route：表示一个路由规则，在 Route 上，有两个比较重要的属性，path，component
- Link：表示路由的连接

注意：**一个项目必须交给一个路由器管理，所以可以在 `<App>` 组件最外侧包裹路由标签即可**。

路由组件与一般组件：

- 写法不同：路由组件是 `<Route path="/demo" component={Demo}>`
- 一般组件一般存放在 components 文件夹，路由组件一般存放在 pages 文件夹
- 路由组件接收的 props 为三个固定属性：history、location、match
