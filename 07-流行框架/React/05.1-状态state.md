# 05.1-状态 state

## 一 组件状态 state

### 1.1 组件状态概念

组件的内部数据称为状态（state），状态的更改能够驱动视图的变更。

状态是无法直接更改的，需要借助 API：`setState()`。

贴士：函数式组件在 React16 之前无法使用状态，称无状态组件。

### 1.2 使用状态

```js
class Comp extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      name: 'lisi',
      age: 13,
    }
  }
  change = () => {
    let { age } = this.state
    age += 1
    this.setState({ age: age })
  }
  render() {
    return (
      <div>
        <button onClick={this.change}>点击改变状态</button>
        <div>组件state数据：{this.state.age}</div>
      </div>
    )
  }
}
```

setState 会自动重新 render，而且是异步的！

### 1.3 状态简写

基于 ES6 类的语法，在构造器中书写状态可以如下简写：

```js
class Comp extends React.Component {
  constructor(props) {
    super(props)
  }

  state = {
    name: 'lisi',
    age: 13,
  }

  // 其他代码...
}
```
