# 01.1-移动 Web 简介

## 一 移动端 web 技术方案

网页如果要在移动端通过浏览器、APP 内嵌页显示，则需要考虑移动端的适配问题。目前有两种选型方案：

- 独立页面（主流方案）：移动端页面采用专门的网页来展示，如 `m.jd.com`。常见技术栈：**流式布局(百分比布局)**、**弹性布局**、**rem+媒体查询**
- 响应式页面：PC 与移动端共用一个网页，根据屏幕宽度进行响应式适配，开发难度较大。常见技术栈：**媒体查询**、**栅格布局**

移动端浏览器内核一般为 webkit 内核，可以较大范围的使用 C3 技术。

初始化移动端的 css，推荐使用第三方库:`normalize.css`，网址为：<https://github.com/necolas/normalize.css>。该库保留了一些有价值的默认值，修改了一部分浏览器 bug，且具备模块化开发方案！

## 二 常见移动 web 开发概念

### 2.1 视口

PC 端的页面直接放置在手机端显示，由于页面过大无法显示全，就会出现滚动条，为了解决该问题，引入了**视口**。

> 视口：viewport，即浏览器 显示页面内容的屏幕区域，分为 布局视口、视觉视口、理想视口

**布局视口**（layout viewport）：在手机中，一般默认会有一个 980px 分辨率的视口，所以 PC 端网页都可以显示在手机中，但是此时 PC 端的页面在手机端看起来就会变小，往往需要手动缩放才能看清。

![布局视口](../../images/CSS/viewport-01.png)

**视觉视口**(visual viewport)：用户在手机端能看到的页面区域。

**理想视口**(ideal viewport)：能够在视觉视口内显示一个完整的页面，又不会像布局视口那样大需要手指捏着屏幕看。在代码上，即所做的页面不再是默认 980px 这样的设定好的，而是与设备的视口宽度相同。

为了实现理想视口，需要手动添加 meta 视口标签 通知浏览器操作，该标签的目的是让布局视口的宽度和理想视口的宽度一致，即设备有多宽，布局的视口就有多宽。

视口设置示例：

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
```

content 常见属性：

```txt
width               默认为device-width，即为理想视口，如果不加，默认按照 980px 显示，页面元素就会变得很小
user-scalable       是否允许用户缩放
initial-scale       最初的缩放比例，比如值为2，则页面一打开，缩放为默认大小的2倍显示
```

标准的 viewport 设置推荐如下：

```txt
视口宽度和设备保持一致
视口的默认缩放比例为1.0
不允许用户自行缩放
最大允许缩放比例为1.0
最小允许缩放比例为1.0
```

### 2.2 倍图

**物理像素**：屏幕显示的最小颗粒，即**分辨率**。如 ihpnoe7 分辨率为： `1334*750`，那么 750 就是物理像素，在 iphone 的屏幕中，一行拥有 750 个像素点，高度上一列拥有 1334 个像素点。

一个 px 能显示的物理像素点的个数，被称为物理像素比/屏幕像素比，物理像素越多就越清晰。 PC 端 1px 就是 1 个物理像素，但是在 iPhone 中 1px 则占据 2 个物理像素，所以 PC 端宽为 375px 的一个 div，在 iphone 中显示却超出了整个 iphone 屏幕，这是因为其实际宽度为 750px。但是这样也会带来问题，本来在 PC 端能够清晰展示的图片，到了移动端就会变得模糊。

在标准视口设置中，一般使用倍图来解决图片在视网膜屏中变模糊的问题，如`50px*50px`的 PC 端图片，需要一个 `100px*100px`图片，并将该图片手动缩小为`50px*50px`适配 iphone8，如下所示：

```css
/* 现在要展示的是50*50的图片，现在需要使用二倍图 100*100，然后手动将其修改为50*50 */
img {
  width: 50px;
  height: 50px;
}
```

贴士：cutterman 工具可以用来快速切倍图。

### 2.3 背景缩放

图片可以缩放，背景在 C3 中也可以实现缩放，`background-size`属性可以设置背景图像的尺寸:

```css
/* 分别是背景图宽度 高度的缩放 */
background-size: 100px 200px;

/* 只写一个参数则是 宽度缩放,高度则会按照等比例缩放 */
background-size: 100px;

/* 相当于父盒子进行比例缩放 */
background-size: 20%;

/* cover: 将图像沿着两个方先无限拉伸盖住盒子,图片会出现被遮挡部分 */
background-size: cover;

/* contain: 将图像等比例拉伸,宽度或者高度有一个铺满盒子,图片会完整显示,但是可能不会完全覆盖为背景 */
background-size: contain;
```
